openapi: 3.1.0

info:
  title: EZ Recipes
  description: An API that fetches recipes from spoonacular and MongoDB
  version: 3.0.0

servers:
  - url: https://ez-recipes-server.onrender.com
    description: Server deployed on render.com

paths:
  /api/recipes:
    # ~0 == ~, ~1 == /
    $ref: "./docs/recipes.yaml#/paths/~1"
  /api/recipes/random:
    $ref: "./docs/recipes.yaml#/paths/~1random"
  /api/recipes/{id}:
    $ref: "./docs/recipes.yaml#/paths/~1{id}"

  /api/terms:
    $ref: "./docs/terms.yaml#/paths/~1"

  /api/chefs:
    $ref: "./docs/chefs.yaml#/paths/~1"
  /api/chefs/verify:
    $ref: "./docs/chefs.yaml#/paths/~1verify"

# Components to be shown on the main page
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    recipes:
      $ref: "./docs/recipes.yaml#/components/schemas/recipes"
    recipe:
      $ref: "./docs/recipes.yaml#/components/schemas/recipe"
    error:
      type: object
      properties:
        error:
          type: string
          description: The error message

    terms:
      $ref: "./docs/terms.yaml#/components/schemas/terms"

    credentials:
      $ref: "./docs/chefs.yaml#/components/schemas/credentials"
    uid:
      $ref: "./docs/chefs.yaml#/components/schemas/uid"
    email:
      $ref: "./docs/chefs.yaml#/components/schemas/email"
